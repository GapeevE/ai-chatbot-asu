# –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º –Ω–∞ –±–∞–∑–µ RAG-–º–æ–¥–µ–ª–∏ –¥–ª—è –ø–æ–º–æ—â–∏ –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞–º —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞
## –û–ø–∏—Å–∞–Ω–∏–µ 
![–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è](assets/logo.png)
–≠—Ç–æ—Ç —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é RAG (Retrieval-Augmented Generation) –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞–º —Ç–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç. –°–∏—Å—Ç–µ–º–∞ —Å–æ—á–µ—Ç–∞–µ—Ç –≤ —Å–µ–±–µ:
1. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∞–π—Ç–æ–≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞
2. –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ - –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ ChromaDB
3. –Ø–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å - —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–∞—è LLM –º–æ–¥–µ–ª—å (T-Lite) –æ—Ç –¢-–ë–∞–Ω–∫–∞
4. Telegram –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - —É–¥–æ–±–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä
–ë–æ—Ç —Å–ø–æ—Å–æ–±–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ:
* –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã—Ö —ç–∫–∑–∞–º–µ–Ω–∞—Ö
* –ü—Ä–æ—Ö–æ–¥–Ω—ã—Ö –±–∞–ª–ª–∞—Ö
* –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è—Ö –∏ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞—Ö
* –î–æ–∫—É–º–µ–Ω—Ç–∞—Ö –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è
* –°—Ä–æ–∫–∏ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–ª–µ–Ω–∏–π
## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* Python 3.10+
* 8+ GB RAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16GB –¥–ª—è LLM)
### –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
1. –°–æ–∑–¥–∞–¥–∏–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ 
```python3 -m venv env```
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
    * Windows:
    ```.\env\Scripts\activate ```
    * macOS/Linux:
    ```source env/bin/activate```
3. –£—Å—Ç–∞–Ω–æ–≤–∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```pip3 install -r requirements.txt```
4. –ù–∞—Å—Ç—Ä–æ–∏–º OLLAMA 
    1. –£—Å—Ç–∞–Ω–æ–≤–∏–º –∫–ª–∏–µ–Ω—Ç Ollama —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞]<https://ollama.com/>
    2. –£—Å—Ç–∞–Ω–æ–≤–∏–º LLM –º–æ–¥–µ–ª—å —Å –∫–ª–∏–µ–Ω—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ (–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–∞—è –º–æ–¥–µ–ª—å –¢-–±–∞–Ω–∫–∞)
    ```ollama run owl/t-lite```
    3. –£—Å—Ç–∞–Ω–æ–≤–∏–º –µ–º–±–µ–¥–¥–∏–Ω–≥-–º–æ–¥–µ–ª—å —Å –∫–ª–∏–µ–Ω—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ (–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –º–æ–¥–µ–ª—å)
    ```ollama pull mxbai-embed-large```
5. –ó–∞–ø—É—Å—Ç–∏–º —Å–∫—Ä–∞–ø–ø–µ—Ä, –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å –¥–æ–º–µ–Ω–∞
```python3 scrapper.py```
6. –ó–∞–ø—É—Å—Ç–∏–º –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä, —á—Ç–æ–±—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏ –ø–æ–º–µ—Å—Ç–∏—Ç—å –∏—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
```python3 ingest.py```
7. –£—Å—Ç–∞–Ω–æ–≤–∏–º –∫–ª–∏–µ–Ω—Ç CloudPub —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞]<https://cloudpub.ru>
8. –ù–∞ –¥–∞–Ω–Ω–æ–º –∫–ª–∏–µ–Ω—Ç–µ –∑–∞–ø—É—Å—Ç–∏–º –≤–µ–±—Ö—É–∫ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ ``` main.py ``` –ø–æ—Ä—Ç–∞
9. –í BotFather —Å–æ–∑–¥–∞–¥–∏–º –±–æ—Ç–∞.
10. –î–æ–±–∞–≤–∏–º TOKEN –±–æ—Ç–∞ –∏ –≤–µ–±—Ö—É–∫ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```$env:TELEGRAM_BOT_TOKEN = "–í–∞—à —Ç–æ–∫–µ–Ω" $env:APP_URL = "–í–∞—à –≤–µ–±—Ö—É–∫"```
11. –ó–∞–ø—É—Å—Ç–∏–º —Å–µ—Ä–≤–µ—Ä
```fastapi run```
## üåê –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –∏ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
![–ü—Ä–∏–Ω—Ü–∏–ø –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–æ–¥—É–ª–µ–π](assets/all.png)
### scrapper.py
–ú–æ–¥—É–ª—å —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Å–∞–π—Ç–∞ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞:
* –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç BeautifulSoup –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML-–∫–æ–Ω—Ç–µ–Ω—Ç–∞
* –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ 
* –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç PDF/DOCX –¥–æ–∫—É–º–µ–Ω—Ç—ã (–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ —Ç–µ–∫—Å—Ç)
* –ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç MD —Ä–∞–∑–º–µ—Ç–∫—É –∫ —Ç–µ–∫—Å—Ç—É
* –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ TXT —Ñ–æ—Ä–º–∞—Ç–µ –≤ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
![–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è](assets/scrap.png)
### ingest.py
–ú–æ–¥—É–ª—å –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î:
* –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å—ã—Ä—ã–µ —Ç–µ–∫—Å—Ç—ã –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
* –†–∞–∑–±–∏–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ —á–∞–Ω–∫–∏
* –í–µ–∫—Ç–æ—Ä–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
* –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ ChromaDB
![–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è](assets/ingest.png)
### ollama.py
–ú–æ–¥—É–ª—å —Ä–µ–∞–ª–∏–∑—É–µ—Ç RAG-–ª–æ–≥–∏–∫—É:
* –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
![–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞](assets/rag.png)
* –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
    1. –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ LLM –º–æ–¥–µ–ª—å 
    3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫–æ–≤—ã–π –≤—ã–≤–æ–¥
![–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è](assets/ollama.png)
* –°–±—Ä–æ—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
### main.py
–Ø–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
* –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç FastAPI —Å CORS middleware
* –°–æ–∑–¥–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è Telegram:
* –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤–µ–±—Ö—É–∫ –¥–ª—è –ø—Ä–∏–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
* –ó–∞–ø—É—Å–∫–∞–µ—Ç ASGI-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
![–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è](assets/main.png)
## ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
* /start - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
* /reset - –°–±—Ä–æ—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∏–∞–ª–æ–≥–∞
* –í–æ–ø—Ä–æ—Å... - –õ—é–±–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏
## üìú –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT.]<LICENSE>

